<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<body>
	<f:view>
		<ui:composition template="/templateCarrito.xhtml">

			<ui:define name="body" >
						
				<h:form id="form" >
					
					
					<!-- Shopping cart Modal -->
					<div class="modal fade" id="shoppingcart1" tabindex="-1" role="dialog" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title">Tús Compras</h4>
								</div>
								<h:panelGroup id="prueba2">
									<div class="modal-body">
										<!-- Items table -->
										<table class="table table-striped">
											<thead>
												<tr>
													<th>Nombre</th>
													<th>Cantidad</th>
													<th>Precio</th>
												</tr>
											</thead>
												<tbody>
												
													   <c:forEach var="item" items="#{tragoBean.listatragos}">
													   		<c:if test="${item.cantidad > 0}">
																<tr>
																	<td><a href="#"></a>#{item.nombre}</td>
																	<td>#{item.cantidad}</td>
																	<td>$#{item.precio}</td>
																</tr>
															</c:if>
														</c:forEach>
													
														<th></th>
														<th>Total</th>
														<th>$ #{tragoBean.getTotalCompra()}</th>
												</tbody>
										</table>
										<p>Telefono:</p>
										<h:inputText value="#{tragoBean.telefono}"    />
										<p>Email:</p>
										<h:inputText value="#{tragoBean.email}"    />
									</div>
								</h:panelGroup>
								
								
								
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">Continuar Comprando</button>
									<!-- <button type="button" class="btn btn-info"></button> -->
									<p:commandButton id="confirm" styleClass="btn btn-info" value="Finalizar Compra" action="#{ventaTragoAction.realizarVenta}" />
									
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal-dialog -->
					</div><!-- /.modal -->
					<!-- Model End -->
					
					<!-- Page Wrapper -->
					<div class="wrapper">
					
						<!-- Header Start -->
						
						<div class="header" style="height: 152px;">
							<div class="container">
								<!-- Header top area content -->
								<div class="header-top">

									<div class="row">
										<div class="col-md-4 col-sm-4">
											<!-- Header top left content contact -->
<!-- 											<div class="header-contact" > -->
											
<!-- 												<span><i class="fa fa-phone red"></i> 888-888-8888</span> -->
<!-- 											</div> -->
										</div>
<!-- 										<div class="col-md-4 col-sm-4">
											Header top right content search box
											<div class=" header-search">
												<form class="form" role="form">
													<div class="input-group">
													  <input type="text" class="form-control" placeholder="Search..."/>
													  <span class="input-group-btn">
														<button class="btn btn-default" type="button"><i class="fa fa-search"></i></button>
													  </span>
													</div>
												</form>
											</div>
										</div> -->
									</div>
									<div class="row">
										<div class="col-md-4 col-sm-4">
										<!-- Link -->
										<a href="index.html">
											<!-- Logo area -->
											<div>	<!-- >div class="logo"-->
												<img class="img-responsive" src="imgs/logoEmpresa.png" alt=""/>
												<!-- Heading -->
												<!--  >h1>Chiriloco</h1-->
												<!-- Paragraph -->
												<!-->p>Al alcance de tu mano</p-->
											</div>
										</a>
										</div>
										<div class="col-md-4 col-sm-4" >
											<!-- Header top left content contact -->
											<div class="header-contact" >
												<!-- Contact number -->
												<br /><br />
												<span><i class="fa fa-phone red"></i> 888-888-8888</span>
											</div>
										</div>
									
										<div class="col-md-4 col-sm-4">
											<!-- Button Kart -->
											
											<div class="btn-cart-md" id="prueba" onclick="$('#carritoPopUp').show()">
											<br /><br />
											
													<h:outputLink class="cart-link" href="#" id="tusCompras">
													 <f:ajax execute="@form" event="click" immediate="true" render="prueba1 prueba2" > </f:ajax>
													<!-- Image -->
													<img class="img-responsive" src="imgs/cart.png" alt="" />
													<!-- Heading -->
													<h4>Tus Compras</h4>
													<span > Productos: <label id="cantProd">0</label> $ <label id="cantDinero">0</label> </span>
													<div class="clearfix"></div>
													</h:outputLink>
									
												<ul class="cart-dropdown" role="menu" id="carritoPopUp" >
				<!-- 									<p:panel id="red"  >
													<p:dataList var="user" value="#{tragoBean.listatragos}"  type="definition">
														<h:inputText value="#{user.cantidad}" />
													</p:dataList>
													</p:panel> -->
													<h:panelGroup id="prueba1">
													   <c:forEach var="item" items="#{tragoBean.listatragos}" varStatus="loop"	 >
													    	<c:if test="${item.cantidad > 0}">
																<li>
																	<!-- Cart items for shopping list -->
																	<div class="cart-item" id="cart${loop.index}">
																		<!-- Item remove icon -->
																		<a href="#"><i class="fa fa-times"  onclick="$('#form\\:listaTragos\\:${loop.index}\\:cantidad').val(0); $('#cant${loop.index}').text(0);$('#cart${loop.index}').hide()"></i>
																		
																		</a>
																		<!-- Image -->
																		<div>
																		<img class="img-responsive img-rounded" src="imgs/shopping/#{item.archivo}.jpg" alt="" />
																		<!-- Title for purchase item -->
																		<span class="cart-title"><a href="#">#{item.nombre}</a></span>
																		<!-- Cart item price -->
																		<span class="cart-price pull-right red">#{item.precio}</span>
																		
																		<br /> &nbsp; <a style="font-size: medium;"> &nbsp; Cant. &nbsp;</a>
																		<a href="#" class="fa fa-plus-circle fa-1x" onclick="$('#form\\:listaTragos\\:${loop.index}\\:cantidad').val(   parseInt($('#form\\:listaTragos\\:${loop.index}\\:cantidad').val()) + 1  ); $('#cant${loop.index}').text( parseInt($('#cant${loop.index}').text()) + 1)"> </a>
																		 &nbsp; <a id="cant${loop.index}" style="font-size: medium;"> ${item.cantidad} </a> &nbsp;
																		<a href="#" class="fa fa-minus-circle fa-1x" onclick="$('#form\\:listaTragos\\:${loop.index}\\:cantidad').val(   parseInt($('#form\\:listaTragos\\:${loop.index}\\:cantidad').val()) - 1  ); $('#cant${loop.index}').text( parseInt($('#cant${loop.index}').text()) - 1)"></a>
																		
															
																		</div>
																		<br />	<br />
																		
																		
																		<div class="clearfix">
																	
																	
																	
																		</div>
																	</div>
																</li>
															</c:if>
														</c:forEach>
													</h:panelGroup>
														<li>
															<!-- Cart items for shopping list -->
															<div class="cart-item">
																<a class="btn btn-danger" data-toggle="modal" href="#shoppingcart1">Comprar</a>
															</div>
														</li>
												</ul>
												<div class="clearfix"></div>
											</div>
											<div class="clearfix"></div>
										</div>
									</div>
								</div>
			
							</div> <!-- / .container -->
						</div>
						
						<!-- Header End -->
						
						<!-- Inner Content -->
						<div class="inner-page padd">
							
							<!-- Shopping Start -->
							
							<div class="shopping">
								<div class="container">
									<!-- Shopping items content -->
									<div class="shopping-content">
										<div class="row">
											<div class="datalist-noborder" >
												<p:dataList var="user" id="listaTragos" value="#{tragoBean.listatragos}" rowIndexVar="rowIndex"  type="definition">
													<div class="col-md-3 col-sm-6">
														<!-- Shopping items -->
														
														<div class="shopping-item">
													 		
															<!-- Image -->
															<a href="item-single.html"><img class="img-responsive" src="imgs/shopping/#{user.archivo}.jpg" alt="" /></a>
															<!-- Shopping item name / Heading -->
															<h4 class="pull-left"><a href="item-single.html"><h:outputText value="#{user.nombre}" /></a></h4>
															<span class="item-price pull-right"><h:outputText value="#{user.precio}" /></span>
															<div class="clearfix"></div>
															<!-- Paragraph -->
															<p><h:outputText value="#{user.descripcion}" /></p>
															<!-- Buy now button -->
																
															<div class="visible-xs">
																	<a class="btn btn-danger btn-sm"  href="#"  onclick="$('#cantDinero').text( parseFloat($('#cantDinero').text()) + #{user.precio} );$('#cantProd').text( parseInt($('#cantProd').text()) + 1); $('#form\\:listaTragos\\:#{rowIndex}\\:cantidad').val(   parseInt($('#form\\:listaTragos\\:#{rowIndex}\\:cantidad').val()) + 1  ); $('#carritoPopUp').hide()" >Agregar</a>
															</div>
																
															<!-- Shopping item hover block & link -->
															<div class="item-hover br-red hidden-xs"></div>
																	<a class="link hidden-xs" href="#"  onclick="$('#cantDinero').text( parseFloat($('#cantDinero').text()) + #{user.precio} );$('#cantProd').text( parseInt($('#cantProd').text()) + 1); $('#form\\:listaTragos\\:#{rowIndex}\\:cantidad').val(   parseInt($('#form\\:listaTragos\\:#{rowIndex}\\:cantidad').val()) + 1  ); $('#carritoPopUp').hide()" >Agregar</a>
															<h:inputHidden id="cantidad" value="#{user.cantidad}"    />
														</div>

													</div>
														
												</p:dataList>
											</div>
										</div>
										<!-- Pagination -->
										<div class="shopping-pagination">
											<ul class="pagination">
												<li class="disabled"><a href="#">&laquo;</a></li>
												<li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
												<li><a href="#">2</a></li>
												<li><a href="#">3</a></li>
												<li><a href="#">4</a></li>
												<li><a href="#">5</a></li>
												<li><a href="#">&raquo;</a></li>
											</ul>
										</div>
										<!-- Pagination end-->
									</div>
								</div>
							</div>
							
							<!-- Shopping End -->
						</div><!-- / Inner Page Content End -->	
						
						<!-- Footer Start -->
						
						<div class="footer padd">
							<div class="container">
								<!-- Copyright -->
								<div class="footer-copyright">
									<!-- <i class="fa fa-envelope-o br-lblue"></i> <span><a href="#">contacto@techresources.com.ar</a></span> -->
									<!-- <div class="clearfix"></div> -->
									<p>&copy; Copyright 2015 <a href="#">TechResources</a></p>
								</div>
							</div>
						</div>
						
						<!-- Footer End -->
						
					</div><!-- / Wrapper End -->
					
					
					<!-- Scroll to top -->
					<span class="totop"><a href="#"><i class="fa fa-angle-up"></i></a></span> 
				
					
					<!-- Javascript files -->
					<!-- jQuery -->
					<!-- <script src="js/jquery.js"></script> -->
					<h:outputScript library="js" name="jquery.js"  />
					<!-- Bootstrap JS -->
					<!-- <script src="js/bootstrap.min.js"></script> -->
					<h:outputScript library="js" name="bootstrap.min.js"  />
					<!-- Pretty Photo JS -->
					<!-- <script src="js/jquery.prettyPhoto.js"></script> -->
					<h:outputScript library="js" name="jquery.prettyPhoto.js"  />
					<!-- Respond JS for IE8 -->
					<!-- <script src="js/respond.min.js"></script> -->
					<h:outputScript library="js" name="respond.min.js"  />
					<!-- HTML5 Support for IE -->
					<!-- <script src="js/html5shiv.js"></script> -->
					<h:outputScript library="js" name="html5shiv.js"  />
					<!-- Custom JS -->
					<!-- <script src="js/custom.js"></script> -->
					<h:outputScript library="js" name="custom.js"  />
					

					<style type="text/css">
						.datalist-noborder .ui-widget-content {
							border: none;
						}
						
					</style>
					
					<script type="text/javascript">
					
					

					</script>
				</h:form>
			</ui:define>
		</ui:composition>
	</f:view>
</body>
</html>
